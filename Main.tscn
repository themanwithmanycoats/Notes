[gd_scene load_steps=13 format=3 uid="uid://bmu2qwoojvium"]

[ext_resource type="Script" uid="uid://dyuu15dw6y7jv" path="res://Objects/Player.gd" id="1_glv2v"]
[ext_resource type="Script" path="res://video_skybox.gd" id="1_trn2v"]
[ext_resource type="Script" uid="uid://bwfxgg6a41375" path="res://arlez80-godot-midi-player-g4-79a7ef10a5d4/addons/midi/MidiPlayer.gd" id="2_uu6xs"]
[ext_resource type="Script" uid="uid://cx1sy1a650ew1" path="res://Scripts/Enemy Spawn.gd" id="3_cm0pq"]
[ext_resource type="PackedScene" uid="uid://crsp0oaxxtm42" path="res://Objects/Enamy idle.tscn" id="4_fos0i"]
[ext_resource type="AudioStream" uid="uid://5p04mhqqcxq7" path="res://MP3/Pattern 50.wav" id="5_3dxm6"]

[sub_resource type="Environment" id="Environment_3dxm6"]
background_mode = 1
tonemap_mode = 2
tonemap_exposure = 2.53
tonemap_white = 0.71
glow_enabled = true
glow_normalized = true
glow_intensity = 1.7
glow_strength = 1.15
glow_bloom = 0.71
glow_blend_mode = 0
glow_hdr_threshold = 1.13
fog_enabled = true
fog_light_color = Color(0, 0, 0, 1)
fog_light_energy = 1.15
fog_density = 0.001
fog_sky_affect = 0.405
adjustment_enabled = true
adjustment_brightness = 2.91
adjustment_contrast = 1.06
adjustment_saturation = 0.63

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_glv2v"]
albedo_color = Color(0.32549, 0.192157, 1, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_fos0i"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_3dxm6"]
points = PackedVector3Array(-0.125207, -0.532801, -0.480507, 0.0227831, 0.47607, 0.498884, 0.169713, 0.559144, 0.464172, 0.231051, -0.803591, 0.320455, 0.40741, 0.651043, -0.243523, -0.482789, 0.594843, 0.0822132, -0.362868, -0.682312, 0.289697, 0.469044, -0.654529, -0.0662713, -0.127444, 0.842701, -0.338103, -0.393435, -0.683942, -0.244717, 0.438255, 0.623309, 0.200849, 0.0841477, 0.977454, 0.114795, -0.0682023, -0.976458, -0.12927, 0.20055, -0.563129, -0.451454, -0.185527, 0.595453, -0.453475, -0.273363, 0.592268, 0.407754, -0.00693649, -0.476823, 0.49966, 0.375821, -0.588614, 0.316955, 0.111579, 0.563059, -0.481177, -0.41725, 0.527866, -0.270497, -0.484546, -0.596972, -0.0665097, -0.279747, 0.908561, 0.0533361, -0.250197, -0.880712, 0.205319, 0.263647, -0.902771, -0.127394, 0.293368, 0.871526, -0.157196, 0.373412, -0.526319, -0.328246, 0.499663, 0.476641, -0.00688856, 0.0531056, 0.875001, 0.324703, -0.154543, -0.590854, 0.465879, -0.0972799, -0.782358, -0.398188, -0.387649, -0.498171, 0.31565, -0.30068, -0.587995, -0.388901)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uu6xs"]
albedo_color = Color(0.81061, 0.180115, 0.0934898, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_r0du0"]
albedo_color = Color(0.250764, 0.702993, 8.27849e-06, 1)

[node name="World" type="Node3D"]
script = ExtResource("1_trn2v")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_color = Color(0.00489983, 0.00489983, 0.00489983, 1)
light_energy = 2.45
light_volumetric_fog_energy = 3.71
shadow_enabled = true
sky_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3dxm6")

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.725372, -0.0187321, -6.32871)
material_override = SubResource("StandardMaterial3D_glv2v")
use_collision = true
size = Vector3(28.3182, 0.0216064, 46.5266)

[node name="Player" type="CharacterBody3D" parent="." groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0536757, -0.0411611, 0.0986605)
script = ExtResource("1_glv2v")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.37516, 0)
mesh = SubResource("CapsuleMesh_fos0i")

[node name="Head" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8416, 0)

[node name="Camera3D" type="Camera3D" parent="Player/Head"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.37516, 0)
shape = SubResource("ConvexPolygonShape3D_3dxm6")

[node name="Platform_1" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4539, 0.496003, 0)
material_override = SubResource("StandardMaterial3D_uu6xs")
use_collision = true
size = Vector3(5, 1, 5)

[node name="Platform_2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4539, 0.787782, -6.50349)
material_override = SubResource("StandardMaterial3D_uu6xs")
use_collision = true
size = Vector3(5, 1.58356, 5)

[node name="Platform_3" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4459, 1.36306, -13.7683)
material_override = SubResource("StandardMaterial3D_uu6xs")
use_collision = true
size = Vector3(5, 2.71292, 5)

[node name="walls_1" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.5187, 1.36066, -6.32748)
visible = false
material_override = SubResource("StandardMaterial3D_r0du0")
use_collision = true
size = Vector3(1, 2.89856, 46.6489)

[node name="Walls_2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.2453, 1.36066, -6.32748)
visible = false
material_override = SubResource("StandardMaterial3D_r0du0")
use_collision = true
size = Vector3(1, 2.89856, 46.6489)

[node name="Walls_3" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.58028, 1.36066, 16.4848)
visible = false
material_override = SubResource("StandardMaterial3D_r0du0")
use_collision = true
size = Vector3(26.6927, 2.89856, 1.02428)

[node name="Walls_4" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.58028, 1.36066, -29.1054)
visible = false
material_override = SubResource("StandardMaterial3D_r0du0")
use_collision = true
size = Vector3(26.6927, 2.89856, 1.02428)

[node name="MidiPlayer" type="Node3D" parent="."]
script = ExtResource("2_uu6xs")
file = "res://Midi/Test .mid"
playing = true
volume_db = -80.0
soundfont = "res://Midi/Fireninja_s_Kayserburg_Piano.sf2"

[node name="Cunductor" type="Node3D" parent="." node_paths=PackedStringArray("midi_player", "player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.07436, 0)
script = ExtResource("3_cm0pq")
midi_player = NodePath("../MidiPlayer")
player = NodePath("../Player")
enemy_scene = ExtResource("4_fos0i")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.16737, -2.23943)
stream = ExtResource("5_3dxm6")
volume_db = -26.667
unit_size = 28.24
autoplay = true
